(window.webpackJsonpstore=window.webpackJsonpstore||[]).push([[0],{16:function(e,t,a){},30:function(e,t,a){e.exports=a(44)},35:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(35),a(10)),i=a(11),s=a(13),m=a(12),u=a(14),d=(a(16),a(5)),p=a(7),h=a(24),E=a(25),f=a(18),v=a.n(f),g=a(26),b=a(29);var y=function(e){var t=e.match,a=e.handleCart,c=Object(n.useState)({}),o=Object(b.a)(c,2),l=o[0],i=o[1];Object(n.useEffect)(function(){s()},[]);var s=function(){var e=Object(g.a)(v.a.mark(function e(){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortnite-api.theapinetwork.com/item/get?id=".concat(t.params.id),{method:"get",headers:new Headers({Authorization:"e8dc5e3d7edc21ac2dcfd847d8d29eae"})});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,i(n.data.item);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return console.log("aaaaa"),r.a.createElement("div",{className:"App"},l.images?r.a.createElement("img",{src:l.images.icon,alt:"mak"}):null,r.a.createElement("h2",null,l.name),r.a.createElement("h3",null,l.description),r.a.createElement("h3",null,l.cost),r.a.createElement("h3",null,l.type),r.a.createElement("h3",null,l.rarity),l.ratings?(r.a.createElement("p",null,"Average Stars: ",l.ratings.avgStars," "),r.a.createElement("p",null," Votes numbers: ",l.ratings.avgStars," "),r.a.createElement("p",null,"Total points: ",l.ratings.totalPoints," ")):null,l.ratings?r.a.createElement("p",null," Votes numbers: ",l.ratings.avgStars," "):null,l.ratings?r.a.createElement("p",null,"Total points: ",l.ratings.totalPoints," "):null,r.a.createElement("button",{onClick:function(){a(l,t.params.id)}},"Add to cart"))};var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Welcome to the Store"))};var k=function(e){var t=e.item,a=e.match,n=e.handleClick;return console.log(a),r.a.createElement("div",{className:"item"},r.a.createElement("h2",null,t.item.name),r.a.createElement("img",{src:t.item.images.icon,alt:t.item.images.information}),r.a.createElement("p",null,t.item.description," "),r.a.createElement("p",null,"$",t.store.cost),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/products/".concat(t.itemId)}," View ")),r.a.createElement("button",{onClick:function(){n(t)}},"Add to cart"))},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handle=function(e){a.props.handleChange(e,a.props.item)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cart"},r.a.createElement(d.b,{to:"store/products/".concat(this.props.item.itemId)}," ",r.a.createElement("h2",null,this.props.item.item.name)," "),r.a.createElement("div",{className:"cart-description"},r.a.createElement("div",{className:"cart-left"},r.a.createElement("img",{src:this.props.item.item.images.icon,alt:"product "}),r.a.createElement("p",null,this.props.item.item.description," ")),r.a.createElement("h2",{className:"item-price"},"$",this.props.item.store.cost)),r.a.createElement("div",{className:"cart-bottom"},r.a.createElement("div",{className:"quantity"},r.a.createElement("h3",null,"Quantity"),r.a.createElement("select",{value:this.props.item.quantity,onChange:this.handle},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"))),r.a.createElement("button",{onClick:function(){e.props.delete(e.props.item)}},"Delete")))}}]),t}(r.a.Component),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],cart:[],totalPrice:0,product:{}},a.handleClick=function(e){var t=!1,n=a.state.cart;n.forEach(function(a){a.itemId===e.itemId&&(a.quantity+=1,t=!t)}),t||(n.push(e),a.setState({cart:n})),a.total()},a.handleCart=function(e,t){e.item={};var n=!1,r=a.state,c=r.cart,o=r.products;c.forEach(function(e){e.itemId===t&&(e.quantity+=1,n=!n)}),n||(o.forEach(function(e){e.itemId===t&&c.push(e)}),a.setState({cart:c})),a.total()},a.total=function(){var e=a.state.cart,t=0;return e.forEach(function(e){e.store?t+=e.store.cost*e.quantity:t+=e.cost*e.quantity,0}),a.setState({totalPrice:t})},a.fetchProduct=function(e){a.setState({product:e})},a.delete=function(e){for(var t=a.state.cart,n=0,r=0;r<t.length;r++)if(t[r].itemId===e.itemId){n=r;break}return t[n].quantity=1,t.splice(n,1),a.total(),a.setState({cart:t})},a.handleChange=function(e,t){var n=a.state.cart;console.log(e.target),n.forEach(function(a){a.itemId===t.itemId&&(a.quantity=e.target.value,console.log(a.quantity))}),a.setState({cart:n}),a.total()},a.handleProduct=function(e){console.log(e),a.setState({product:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fortnite-api.theapinetwork.com/store/get",{method:"get",headers:new Headers({Authorization:"e8dc5e3d7edc21ac2dcfd847d8d29eae"})}).then(function(e){return e.json()}).then(function(t){t.data.forEach(function(e){e.quantity=1}),e.setState({products:t.data})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.cart,c=t.product;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(d.b,{to:"/store"},r.a.createElement("h2",null,"Mobile Store")),r.a.createElement(d.b,{to:"/store/products"},r.a.createElement("h2",null,"Products")),r.a.createElement(d.b,{to:"/cart"},r.a.createElement(h.a,{style:{color:"white",fontSize:"4em"},icon:E.a})," ")),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/store",exact:!0,component:w}),r.a.createElement(p.a,{path:"/store/products",exact:!0,render:function(t){return r.a.createElement("div",{className:"menu-items"},a.map(function(a){return r.a.createElement(k,Object.assign({item:a,key:a.itemId,handleClick:e.handleClick},t))}))}}),r.a.createElement(p.a,{path:"/products/:id",render:function(t){return r.a.createElement(y,Object.assign({},t,{handleCart:e.handleCart,product:c}))}}),r.a.createElement(p.a,{path:"/cart",render:function(){return r.a.createElement("div",{className:"cart-items"},r.a.createElement("h2",{className:"shoppingTxt"},"Shopping Cart"),r.a.createElement("div",{className:"cart-head"},r.a.createElement("h3",null,"Items"),r.a.createElement("h3",null,"price")),n.map(function(t){return r.a.createElement(C,{item:t,key:t.itemId,handleChange:e.handleChange,delete:e.delete})}),r.a.createElement("h2",{className:"total"},"Subtotal: $",e.state.totalPrice))}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d.a,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.21700191.chunk.js.map